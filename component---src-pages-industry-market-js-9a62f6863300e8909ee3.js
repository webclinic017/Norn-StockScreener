(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{E2m7:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),o=a("w8ma"),i=a("Bl7J"),l=a("HaE+"),f=a("o0o1"),d=a.n(f),c=(a("E9XD"),a("DYZr")),u=a("OGDC"),m=a("DbNq"),h=a.n(m),s=a("V3n9"),P=a("tFdz"),M=a("jJ2d"),p=a("ps87"),b=a("4cdY"),x=a("y9N3"),K=a("J+eN"),w=a("b+jq"),y=a("nJDY"),E=a("Yjvw"),k=a("wcMh"),Y=a("hszt"),g=a("2Ovm"),D=a("Ao2N"),j=Object(Y.a)({chartName:"BarChart",GraphicalChild:g.a,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:K.a},{axisType:"yAxis",AxisComp:w.a}],formatAxisMap:D.b}),v=a("lQYU"),C=a("wd/R"),O=a.n(C),S=function(e){var t=e.marketData,a=e.perfData,r=e.info;return n.a.createElement("div",{style:{width:window.innerWidth-100+"px",height:window.innerHeight-100+"px",maxWidth:"1200px",maxHeight:"800px"}},n.a.createElement(p.a,{width:"100%",height:"47%"},n.a.createElement(b.a,{data:t,margin:{top:5,right:30,left:20,bottom:5}},n.a.createElement(x.a,{strokeDasharray:"3 3"}),n.a.createElement(K.a,{dataKey:"Date",tickFormatter:function(e){return O()(e).format("MM/DD/YYYY")}}),n.a.createElement(w.a,{domain:["auto","auto"]}),n.a.createElement(y.a,null),n.a.createElement(E.a,{wrapperStyle:{bottom:-15}}),n.a.createElement(k.a,{type:"monotone",name:"Market ("+r.market+")",dataKey:"Close",stroke:"#8884d8",dot:!1}))),n.a.createElement("div",{style:{height:"6%"}}),n.a.createElement(p.a,{width:"100%",height:"47%"},n.a.createElement(j,{data:a,margin:{top:5,right:30,left:20,bottom:5}},n.a.createElement(x.a,{strokeDasharray:"3 3"}),n.a.createElement(K.a,{dataKey:"name"}),n.a.createElement(w.a,{tickFormatter:function(e){return e+"%"},domain:["auto","auto"]}),n.a.createElement(y.a,null),n.a.createElement(E.a,null),n.a.createElement(v.a,{y:0,stroke:"#000"}),n.a.createElement(g.a,{name:"Industry ("+r.industry+")",dataKey:"industry",fill:"#82ca9d",unit:"%"}),n.a.createElement(g.a,{name:"Market ("+r.market+")",dataKey:"market",fill:"#8884d8",unit:"%"}))))},T=a("qnxO"),W=a("Nihg"),A=a("pCjM"),N=a.n(A),I=(a("jAbX"),function(e){var t=e.loadingAnimeRef,a=Object(r.useRef)({popModalWindow:null,popPureModal:null}),o={hide:!1,text:"Change"},i={hide:!0,text:"Float Short"},f={hide:!0,text:"Recom"},m={hide:!1,text:"Perf Week"},p={hide:!1,text:"Perf Month"},b={hide:!1,text:"Perf Quart"},x={hide:!1,text:"Perf Half"},K={hide:!1,text:"Perf Year"},w={hide:!1,text:"Perf YTD"},y={hide:!1,text:"Symbol"},E={hide:!1,text:"Source"},k={hide:!1,text:"Perf Week"},Y={hide:!1,text:"Perf Month"},g={hide:!1,text:"Perf Quart"},D={hide:!1,text:"Perf Half"},j={hide:!1,text:"Perf Year"},v={hide:!1,text:"Perf YTD"},C={hide:!1,text:"Chart"},O=Object(P.a)({cachePolicy:"no-cache"}),A=O.get,I=O.response,H=function(e){var t=[];return e.forEach((function(e,a){var r={id:t.length,Industry:e.Industry,Change:e.Change,FloatShort:e["Float Short"],Recom:e.Recom,PerfWeek:e["Perf Week"],PerfMonth:e["Perf Month"],PerfQuart:e["Perf Quart"],PerfHalf:e["Perf Half"],PerfYear:e["Perf Year"],PerfYTD:e["Perf YTD"],Url:e.Url,MKSymbol:"-",MKSource:"-",MKPerfWeek:-Number.MAX_VALUE,MKPerfMonth:-Number.MAX_VALUE,MKPerfQuart:-Number.MAX_VALUE,MKPerfHalf:-Number.MAX_VALUE,MKPerfYear:-Number.MAX_VALUE,MKPerfYTD:-Number.MAX_VALUE,MKDataUrl:"-"};0===e.Market.length?t.push(r):e.Market.forEach((function(e,a){var n=Object.assign({},r);n.id=t.length,n.MKSymbol=e.symbol,n.MKSource=e.src,n.MKPerfWeek=e["Perf Week"],n.MKPerfMonth=e["Perf Month"],n.MKPerfQuart=e["Perf Quart"],n.MKPerfHalf=e["Perf Half"],n.MKPerfYear=e["Perf Year"],n.MKPerfYTD=e["Perf YTD"],n.MKDataUrl=e.dataUrl,t.push(n)}))})),t},U=function(){var e=Object(l.a)(d.a.mark((function e(){var r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/norn-data/indusrty-table.json");case 2:r=e.sent,I.ok?(console.log(r),o=H(r.data),F(o)):(a.current.popModalWindow(n.a.createElement("div",null,"Load indusrty-table.json failed")),F([])),t.current.setLoading(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=Object(r.useState)([]),R=Q[0],F=Q[1],L=Object(r.useState)({}),_=L[0],V=L[1];return Object(r.useEffect)((function(){return U(),function(){}}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:N.a.container},n.a.createElement("div",{className:N.a.table},n.a.createElement(c.a,{rows:R,columns:[{field:"Industry",headerName:"Industry",width:250,renderCell:function(e){return"-"===e.row.Url?n.a.createElement("span",null,e.value):n.a.createElement(s.a,{href:e.row.Url,target:"_blank",rel:"noreferrer noopener"},n.a.createElement("span",null,e.value))},hide:"Industry"in _&&_.Industry},Object(W.a)("Change",o.text,130,2,"Change"in _?_.Change:o.hide,500),{field:"FloatShort",headerName:i.text,width:130,type:"number",renderCell:function(e){return n.a.createElement("span",null,(100*e.value).toFixed(2)+"%")},hide:"FloatShort"in _?_.FloatShort:i.hide},{field:"Recom",headerName:f.text,width:130,type:"number",renderCell:function(e){return n.a.createElement("span",{style:{fontWeight:500,color:e.value<2?"green":e.value>3?"red":""}},e.value)},hide:"Recom"in _?_.Recom:f.hide},Object(W.a)("PerfWeek",m.text,145,2,"PerfWeek"in _?_.PerfWeek:m.hide,500),Object(W.a)("PerfMonth",p.text,150,2,"PerfMonth"in _?_.PerfMonth:p.hide,500),Object(W.a)("PerfQuart",b.text,145,2,"PerfQuart"in _?_.PerfQuart:b.hide,500),Object(W.a)("PerfHalf",x.text,140,2,"PerfHalf"in _?_.PerfHalf:x.hide,500),Object(W.a)("PerfYear",K.text,140,2,"PerfYear"in _?_.PerfYear:K.hide,500),Object(W.a)("PerfYTD",w.text,140,2,"PerfYTD"in _?_.PerfYTD:w.hide,500),{field:"MKSymbol",headerName:y.text,width:130,hide:"MKSymbol"in _?_.MKSymbol:y.hide},{field:"MKSource",headerName:E.text,width:130,renderCell:function(e){return"-"===e.row.MKDataUrl?n.a.createElement("span",null,"-"):n.a.createElement(s.a,{href:e.row.MKDataUrl,target:"_blank",rel:"noreferrer noopener"},n.a.createElement("span",null,e.value))},hide:"MKSource"in _?_.MKSource:E.hide},Object(W.a)("MKPerfWeek",k.text,145,2,"MKPerfWeek"in _?_.MKPerfWeek:k.hide,500),Object(W.a)("MKPerfMonth",Y.text,150,2,"MKPerfMonth"in _?_.MKPerfMonth:Y.hide,500),Object(W.a)("MKPerfQuart",g.text,145,2,"MKPerfQuart"in _?_.MKPerfQuart:g.hide,500),Object(W.a)("MKPerfHalf",D.text,140,2,"MKPerfHalf"in _?_.MKPerfHalf:D.hide,500),Object(W.a)("MKPerfYear",j.text,140,2,"MKPerfYear"in _?_.MKPerfYear:j.hide,500),Object(W.a)("MKPerfYTD",v.text,140,2,"MKPerfYTD"in _?_.MKPerfYTD:v.hide,500),{field:"Chart",headerName:C.text,width:120,renderCell:function(e){return"-"===e.row.MKDataUrl?n.a.createElement("span",null,"-"):n.a.createElement(u.a,{size:"small","aria-haspopup":"true",onClick:function(){!function(){var t=Object(l.a)(d.a.mark((function t(r,o){var i,l,f,c,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(r+"_"+o).match(/\w+/gi).join("_")+".json",t.next=3,A("/norn-data/markets/"+i);case 3:l=t.sent,console.log(l),I.ok&&l.data&&l.data.length>0?(f={industry:e.row.Industry,market:e.row.MKSymbol},c=l.data.reduce((function(e,t){return e.unshift({Date:t.Date,Close:parseFloat(t.Close)}),e}),[]),u=[{name:"Perf Week",industry:parseInt(1e4*e.row.PerfWeek,10)/100,market:parseInt(1e4*e.row.MKPerfWeek,10)/100},{name:"Perf Month",industry:parseInt(1e4*e.row.PerfMonth,10)/100,market:parseInt(1e4*e.row.MKPerfMonth,10)/100},{name:"Perf Quart",industry:parseInt(1e4*e.row.PerfQuart,10)/100,market:parseInt(1e4*e.row.MKPerfQuart,10)/100},{name:"Perf Half",industry:parseInt(1e4*e.row.PerfHalf,10)/100,market:parseInt(1e4*e.row.MKPerfHalf,10)/100},{name:"Perf Year",industry:parseInt(1e4*e.row.PerfYear,10)/100,market:parseInt(1e4*e.row.MKPerfYear,10)/100},{name:"Perf YTD",industry:parseInt(1e4*e.row.PerfYTD,10)/100,market:parseInt(1e4*e.row.MKPerfYTD,10)/100}],a.current.popModalWindow(n.a.createElement(S,{marketData:c,perfData:u,info:f}))):a.current.popModalWindow(n.a.createElement("div",null,"Load market data failed"));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()(e.row.MKSource,e.row.MKSymbol)}},n.a.createElement(h.a,{color:"primary",style:{fontSize:40}}))},hide:"Chart"in _?_.Chart:C.hide}],scrollbarSize:17,pageSize:50,rowsPerPageOptions:[],components:{NoRowsOverlay:T.a},disableSelectionOnClick:!0,onColumnVisibilityChange:function(e){var t=_;t[e.field]=!e.isVisible,V(t)}}))),n.a.createElement(M.a,{modalWindowRef:a}))}),H=a("3Y3G"),U=a("vrFN");t.default=function(){var e=Object(r.useRef)({getLoading:null,setLoading:null});return n.a.createElement(o.a,{injectFirst:!0},n.a.createElement(U.a,null),n.a.createElement(i.a,null,n.a.createElement(I,{loadingAnimeRef:e})),n.a.createElement(H.a,{loadingAnimeRef:e}))}},pCjM:function(e,t,a){e.exports={container:"industryTable-module--container--2zRSU",table:"industryTable-module--table--2GQAU"}}}]);
//# sourceMappingURL=component---src-pages-industry-market-js-9a62f6863300e8909ee3.js.map