(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Ogif:function(e,a,t){"use strict";var n=t("dI71"),r=t("q1tI"),l=t.n(r),i=t("je4i"),o=t.n(i),c=t("wcMh"),m=t("lQYU"),u=t("FQZO"),s=t("ps87"),d=t("4cdY"),f=t("y9N3"),p=t("J+eN"),v=t("b+jq"),y=t("nJDY"),h=function(e){function a(){return e.apply(this,arguments)||this}return Object(n.a)(a,e),a.prototype.render=function(){var e=this.props,a=e.x,t=e.y,n=e.stroke,r=e.value,i=e.fontSize;return l.a.createElement("text",{x:a,y:t,dy:-4,fill:n,fontSize:i,textAnchor:"middle"},r)},a}(r.PureComponent);a.a=function(e){var a=e.data,t=e.iteration,n=e.info,r=e.show_mean_label,i=void 0===r||r,E=e.modal_mode,g=void 0===E||E,b=Array(t).fill(0).map((function(e,a){return l.a.createElement(c.a,{key:o.a.generate(),type:"monotone",dataKey:"Path-"+String(a).padStart(2,"0"),stroke:"#d3d3d3",dot:!1,strokeWidth:2})})),S="strike"in n&&"cost"in n?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{y:n.strike,label:{position:"insideBottomLeft",value:"Strike: "+n.strike,fill:"red",fontSize:14},stroke:"red",strokeDasharray:"3 3"}),l.a.createElement(m.a,{y:n.cost,label:{position:"insideTopLeft",value:"Cost: "+n.cost,fill:"blue",fontSize:14},stroke:"blue",strokeDasharray:"3 3"})):l.a.createElement(l.a.Fragment,null),k="symbol"in n?l.a.createElement(u.a,{value:"Symbol: "+n.symbol,offset:5,position:"bottom",fill:"#8884d8",fontSize:16}):l.a.createElement(l.a.Fragment,null),w=g?{width:window.innerWidth-100+"px",height:window.innerHeight-100+"px",maxWidth:"1200px",maxHeight:"600px"}:{width:"100%",height:"100%"};return l.a.createElement("div",{style:w},l.a.createElement(s.a,{width:"100%",height:"100%"},l.a.createElement(d.a,{data:a,margin:{top:5,right:30,left:20,bottom:20}},l.a.createElement(f.a,{strokeDasharray:"3 3"}),l.a.createElement(p.a,{dataKey:"Name"},k),l.a.createElement(v.a,{domain:["auto","auto"]}),l.a.createElement(y.a,{itemSorter:function(e){return e.name}}),b,l.a.createElement(c.a,{type:"monotone",dataKey:"Mean",stroke:"#FF8042",strokeWidth:3,label:i?l.a.createElement(h,{stroke:"#FF8042",fontSize:14}):l.a.createElement(l.a.Fragment,null)}),S)))}},bUfP:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),r=t.n(n),l=t("w8ma"),i=t("Bl7J"),o=(t("E9XD"),t("Nb3f")),c=t.n(o),m=t("OGDC"),u=t("cD7S"),s=t.n(u),d=t("MGIy"),f=t("5I82"),p=t("NZDO"),v=t("z6Y5"),y=t("Gqia"),h=t("UG0H"),E=t("sD0r"),g=t("GleO"),b=t("je4i"),S=t.n(b),k=t("tFdz"),w=t("b6Qr"),j=t("jJ2d"),x=t("Nihg"),P={parameters:[{name:"symbol",display_name:"Symbol",val:"THO",gridsm:1},{name:"days",display_name:"Simulation Days",val:"30",min:1,max:252,gridsm:1},{name:"iteration",display_name:"Iteration",val:"50",min:1,max:100,gridsm:1},{name:"ewma_his_vol_period",display_name:"EWMA History Volatility Period",val:"21",gridsm:2},{name:"ewma_his_vol_lambda",display_name:"EWMA History Volatility Lambda",val:"0.94",gridsm:2},{name:"mu",display_name:"Expected Return (default: 1yr data)",val:"",gridsm:2},{name:"vol",display_name:"Volatility (default: EWMA Vol data)",val:"",gridsm:2}]},C=t("/1FI"),O=t("Ogif"),_=t("y4pv"),R=t.n(_),q=t("q3Q2"),M=t.n(q),F=function(e){var a=e.queryParameterRef,t=e.queryParameterCurrentRef;return P.parameters.map((function(e,n){return function(e,a,t,n,l){return r.a.createElement(v.a,{item:!0,md:l,xs:12,key:S.a.generate()},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(d.a,{id:a,className:M.a.valueText,label:n,variant:"outlined",defaultValue:t,size:"small",inputRef:e})))}(a.current[n],e.name,null===t.current?e.val:t.current[n],e.display_name,e.gridsm)}))},N=function(e){var a=e.FetchNornFinanceAPIServerRef,t=Object(k.a)("https://"+C.g,{cachePolicy:"no-cache"});return a.current.server=t,r.a.createElement(r.a.Fragment,null)},D=function(e){var a=e.MonteCarloChartCompRef,t=Object(n.useState)(r.a.createElement(r.a.Fragment,null)),l=t[0],i=t[1];return a.current.setChart=i,l},z=function(e){var a=e.loadingAnimeRef,t=Object(n.useRef)({popModalWindow:null,popPureModal:null}),l=Object(n.useRef)({server:null}),i=Object(n.useRef)({setChart:null}),o=Object(n.useState)(0),u=(o[0],o[1],Object(n.useRef)([]));P.parameters.forEach((function(e,a){u.current[a]=Object(n.createRef)(),u.current[a].current={value:e.val}}));var d=Object(n.useRef)(null);return Object(n.useEffect)((function(){return a.current.setLoading(!1),function(){}}),[]),r.a.createElement("div",{className:R.a.defaultFont+" "+M.a.container},r.a.createElement("div",{className:M.a.queryPannel},r.a.createElement("div",{className:M.a.parameterTitle},r.a.createElement(y.a,{variant:"h6",gutterBottom:!0,component:"div"},"Query Parameters",r.a.createElement(x.e,{arrow:!0,title:r.a.createElement("span",{style:{whiteSpace:"pre-line",lineHeight:"20px",textAlign:"center"}},C.k)},r.a.createElement(m.a,{onClick:function(){return window.open(C.h,"_blank")}},r.a.createElement(s.a,{color:"action"}))))),r.a.createElement("div",{className:M.a.parameterBlock},r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(F,{queryParameterRef:u,queryParameterCurrentRef:d}),r.a.createElement(v.a,{item:!0,md:1,xs:12},r.a.createElement(p.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(g.a,{theme:Object(E.a)({palette:{primary:h.a}})},r.a.createElement(f.a,{className:w.isMobile?M.a.queryBtnMobile:M.a.queryBtn,variant:"contained",color:"primary",startIcon:r.a.createElement(c.a,null),onClick:function(){a.current.setLoading(!0),d.current=[];var e=P.parameters.reduce((function(e,a,t){return e[a.name]=u.current[t].current.value,d.current.push(e[a.name]),e}),{});if(console.log(e),P.parameters.some((function(a){return"min"in a&&a.min>e[a.name]||"max"in a&&a.max<e[a.name]})))return a.current.setLoading(!1),void t.current.popModalWindow(r.a.createElement("div",null,"The query parameter is not valid or overy limit."));var n="/stock/price-simulation-by-mc?"+Object.keys(e).map((function(a){return""!=e[a]?a+"="+e[a]:""})).join("&");Promise.all([Object(x.c)(n,l.current.server)]).then((function(e){if(console.log(e),1===e.length&&null!==e[0]){var n=[],l=e[0].data.length,o=e[0].mean.length;e[0].mean.forEach((function(a,t){var r={Mean:parseInt(100*a,10)/100,Name:"Day"+t};e[0].data.forEach((function(e,a){r["Path-"+String(a).padStart(2,"0")]=parseInt(100*e[t],10)/100})),n.push(r)})),i.current.setChart(r.a.createElement(O.a,{data:n,iteration:l,info:{},show_mean_label:o<=40,modal_mode:!1}))}else console.error("Call simulation api failed"),t.current.popModalWindow(r.a.createElement("div",null,"Call simulation api failed"));a.current.setLoading(!1)})).catch((function(){console.error("Call simulation api failed..."),t.current.popModalWindow(r.a.createElement("div",null,"Call simulation api failed...")),a.current.setLoading(!1)}))}},"Simulation"))))))),r.a.createElement("div",{className:M.a.chart},r.a.createElement(D,{MonteCarloChartCompRef:i})),r.a.createElement(j.a,{modalWindowRef:t}),r.a.createElement(N,{FetchNornFinanceAPIServerRef:l}))},I=t("3Y3G"),A=t("vrFN");a.default=function(){var e=Object(n.useRef)({getLoading:null,setLoading:null});return r.a.createElement(l.a,{injectFirst:!0},r.a.createElement(A.a,null),r.a.createElement(i.a,null,r.a.createElement(z,{loadingAnimeRef:e})),r.a.createElement(I.a,{loadingAnimeRef:e}))}},cD7S:function(e,a,t){"use strict";var n=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t("jelL")),l=t("nKUr"),i=(0,r.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");a.default=i},q3Q2:function(e,a,t){e.exports={container:"StockPriceSimulation-module--container--oAaYx",queryPannel:"StockPriceSimulation-module--queryPannel--3DlMY",parameterTitle:"StockPriceSimulation-module--parameterTitle--Yjfuv",parameterBlock:"StockPriceSimulation-module--parameterBlock--31zQ1",valueText:"StockPriceSimulation-module--valueText--1U149",queryBtn:"StockPriceSimulation-module--queryBtn--8XrjZ",queryBtnMobile:"StockPriceSimulation-module--queryBtnMobile--3Te8v",chart:"StockPriceSimulation-module--chart--2D8cw"}}}]);
//# sourceMappingURL=component---src-pages-stock-price-simulation-js-60107e365963f6394c9c.js.map